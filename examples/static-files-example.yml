# Static File Serving Example Configuration
# This configuration demonstrates the modern, simplified approach to serving
# static files with Navigator's server-based configuration.

server:
  listen: 3000
  hostname: localhost
  public_dir: public  # All static files served from this directory

  # Cache control configuration (optional)
  # Customize cache headers for specific URL paths
  cache_control:
    overrides:
      # Long cache for versioned assets
      - path: /assets/
        max_age: 24h

      # Medium cache for images
      - path: /images/
        max_age: 12h

      # Long cache for fonts
      - path: /fonts/
        max_age: 30d

      # Short cache for root-level files
      - path: /
        max_age: 1h

  # File extensions allowed for static serving (optional)
  # If omitted, ALL files in public_dir are allowed
  # Specify this to restrict which file types can be served
  allowed_extensions:
    - html
    - htm
    - css
    - js
    - png
    - jpg
    - jpeg
    - gif
    - svg
    - ico
    - pdf
    - txt
    - xml
    - json
    - woff
    - woff2
    - ttf
    - eot

  # Try files configuration (optional)
  # If present, enables try_files feature for SPA-like behavior
  # If absent, feature is disabled
  try_files:
    - index.html  # Try index.html first
    - .html       # Then try adding .html extension
    - .htm        # Then try adding .htm extension
    - .txt        # Then try adding .txt extension
    - .xml        # Then try adding .xml extension
    - .json       # Then try adding .json extension

# Example URL mappings this configuration creates:
#
# URL: /assets/application.css  → File: public/assets/application.css
# URL: /docs/setup.html         → File: public/docs/setup.html
# URL: /studios/raleigh         → File: public/studios/raleigh.html (via try_files)
# URL: /images/logo.png         → File: public/images/logo.png
# URL: /2024/events/boston.html → File: public/2024/events/boston.html
# URL: /favicon.ico             → File: public/favicon.ico
#
# All paths are relative to public_dir (public/)
# Try files attempts each suffix in order until a file is found
# If no file matches, request falls back to the application

applications:
  pools:
    max_size: 5
    timeout: 5m
    start_port: 4000
  tenants: []
